#!/usr/bin/env bash
# ~/.xinitrc — stable startup

# Log X session output
exec 1>"$HOME/.xsession-errors" 2>&1

# Source distro scripts
for f in /etc/X11/xinit/xinitrc.d/*.sh; do [ -r "$f" ] && . "$f"; done

export LANG=en_US.UTF-8

# Displays (only if the script exists; don't die if it doesn't)
[ -x "$HOME/.config/auto-monitor.sh" ] && "$HOME/.config/auto-monitor.sh" --verbose || echo "⚠ auto-monitor.sh not present, skipping"

# Xresources (only if both exist)
if command -v xrdb >/dev/null 2>&1 && [ -f "$HOME/.Xresources" ]; then
  xrdb -merge "$HOME/.Xresources" &
fi

setxkbmap -device <id> -option ctrl:swap_lalt_lctl

# Hand off to bspwm (everything else is launched from bspwmrc)
exec bspwm
